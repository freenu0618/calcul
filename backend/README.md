# ê¸‰ì—¬ ê³„ì‚°ê¸° API

í•œêµ­ ê·¼ë¡œê¸°ì¤€ë²• ë° ì„¸ë²•ì— ë”°ë¥¸ ê·¼ë¡œì ì‹¤ìˆ˜ë ¹ì•¡ ê³„ì‚° REST API

## ğŸš€ Quick Start

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 2. ì„œë²„ ì‹¤í–‰

```bash
cd backend
uvicorn app.api.main:app --reload --host 0.0.0.0 --port 8000
```

### 3. API ë¬¸ì„œ í™•ì¸

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### Salary (ê¸‰ì—¬ ê³„ì‚°)

#### POST `/api/v1/salary/calculate`
ê¸‰ì—¬ ê³„ì‚° - ê¸°ë³¸ê¸‰, ìˆ˜ë‹¹, ê·¼ë¬´ ì‹œí”„íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ìˆ˜ë ¹ì•¡ ê³„ì‚°

**ìš”ì²­ ì˜ˆì œ:**
```json
{
  "employee": {
    "name": "í™ê¸¸ë™",
    "dependents_count": 2,
    "children_under_20": 1,
    "employment_type": "FULL_TIME",
    "company_size": "OVER_5"
  },
  "base_salary": 2500000,
  "allowances": [
    {
      "name": "ì§ì±…ìˆ˜ë‹¹",
      "amount": 300000,
      "is_taxable": true,
      "is_includable_in_minimum_wage": true,
      "is_fixed": true,
      "is_included_in_regular_wage": true
    }
  ],
  "work_shifts": [
    {
      "date": "2026-01-05",
      "start_time": "09:00:00",
      "end_time": "18:00:00",
      "break_minutes": 60,
      "is_holiday_work": false
    }
  ]
}
```

### Insurance (ë³´í—˜ë£Œ ì¡°íšŒ)

#### GET `/api/v1/insurance/rates`
2026ë…„ 4ëŒ€ ë³´í—˜ ìš”ìœ¨ ì •ë³´ ì¡°íšŒ

#### POST `/api/v1/insurance/calculate`
ë³´í—˜ë£Œ ê³„ì‚° - ì´ ê³¼ì„¸ ëŒ€ìƒ ê¸‰ì—¬ ê¸°ë°˜

**ìš”ì²­ ì˜ˆì œ:**
```json
{
  "gross_income": 2800000
}
```

### Tax (ì„¸ê¸ˆ ì¡°íšŒ)

#### POST `/api/v1/tax/calculate`
ì„¸ê¸ˆ ê³„ì‚° - ê°„ì´ì„¸ì•¡í‘œ ê¸°ì¤€

**ìš”ì²­ ì˜ˆì œ:**
```json
{
  "taxable_income": 2800000,
  "dependents_count": 2,
  "children_under_20": 1
}
```

#### POST `/api/v1/tax/estimate-annual`
ì—°ê°„ ì†Œë“ì„¸ ì¶”ì •

**ìš”ì²­ ì˜ˆì œ:**
```json
{
  "monthly_income": 2800000,
  "dependents_count": 2,
  "children_under_20": 1
}
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```bash
pytest app/tests/unit/ -v
```

### í†µí•© í…ŒìŠ¤íŠ¸
```bash
pytest app/tests/integration/ -v
```

### ì „ì²´ í…ŒìŠ¤íŠ¸
```bash
pytest app/tests/ -v
```

## ğŸ“Š ê³„ì‚° ê¸°ì¤€

### 2026ë…„ ë²•ì • ìš”ìœ¨
- **êµ­ë¯¼ì—°ê¸ˆ**: 4.5% (ìƒí•œ 590ë§Œì›, í•˜í•œ 39ë§Œì›)
- **ê±´ê°•ë³´í—˜**: 3.595%
- **ì¥ê¸°ìš”ì–‘ë³´í—˜**: ê±´ê°•ë³´í—˜ë£Œ Ã— 12.95%
- **ê³ ìš©ë³´í—˜**: 0.9% (ìƒí•œ 1350ë§Œì›)
- **ìµœì €ì„ê¸ˆ**: ì‹œê¸‰ 10,320ì›

### ê°€ì‚°ìˆ˜ë‹¹
- **ì—°ì¥ê·¼ë¡œ**: í†µìƒì‹œê¸‰ Ã— 1.5ë°° (ì£¼ 40ì‹œê°„ ì´ˆê³¼)
- **ì•¼ê°„ê·¼ë¡œ**: í†µìƒì‹œê¸‰ Ã— 0.5ë°° (22:00~06:00)
- **íœ´ì¼ê·¼ë¡œ**: í†µìƒì‹œê¸‰ Ã— 1.5ë°° (8ì‹œê°„ ì´í•˜)
- **íœ´ì¼ê·¼ë¡œ ì´ˆê³¼**: í†µìƒì‹œê¸‰ Ã— 2.0ë°° (5ì¸ ì´ìƒë§Œ)

### ì£¼íœ´ìˆ˜ë‹¹
```
ì£¼íœ´ìˆ˜ë‹¹ = (ì£¼ ì†Œì •ê·¼ë¡œì‹œê°„ Ã· 40) Ã— 8 Ã— í†µìƒì‹œê¸‰
```
- ì£¼ 15ì‹œê°„ ì´ìƒ ê·¼ë¬´ ì‹œ ì§€ê¸‰
- 5ì¸ ë¯¸ë§Œ ì‚¬ì—…ì¥ë„ ì˜ë¬´ ì ìš©

## âš ï¸ ë²•ì  ê³ ì§€

ë³¸ ê³„ì‚°ê¸°ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ê¸‰ì—¬ ì§€ê¸‰ ì‹œ ë…¸ë¬´ì‚¬ ë˜ëŠ” ì„¸ë¬´ì‚¬ì™€ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
ê³„ì‚° ê²°ê³¼ë¡œ ì¸í•œ ë²•ì  ì±…ì„ì€ ì‚¬ìš©ìì—ê²Œ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ main.py              # FastAPI ì•±
â”‚   â”‚   â”œâ”€â”€ routers/             # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ salary.py
â”‚   â”‚   â”‚   â”œâ”€â”€ insurance.py
â”‚   â”‚   â”‚   â””â”€â”€ tax.py
â”‚   â”‚   â””â”€â”€ schemas/             # Request/Response DTO
â”‚   â”‚       â”œâ”€â”€ common.py
â”‚   â”‚       â”œâ”€â”€ salary.py
â”‚   â”‚       â”œâ”€â”€ insurance.py
â”‚   â”‚       â””â”€â”€ tax.py
â”‚   â”œâ”€â”€ domain/                  # DDD ë„ë©”ì¸ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ value_objects/
â”‚   â”‚   â””â”€â”€ services/
â”‚   â””â”€â”€ tests/
â”‚       â”œâ”€â”€ unit/                # 165ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚       â””â”€â”€ integration/         # 14ê°œ í†µí•© í…ŒìŠ¤íŠ¸
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **FastAPI 0.128.0** - ì›¹ í”„ë ˆì„ì›Œí¬
- **Uvicorn 0.40.0** - ASGI ì„œë²„
- **Pydantic 2.12.5** - ë°ì´í„° ê²€ì¦
- **Pytest 9.0.2** - í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

## ğŸ“ ë²„ì „ ì •ë³´

- **API Version**: 1.0.0
- **ì ìš© ì—°ë„**: 2026ë…„
- **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-13
